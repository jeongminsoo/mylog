DROP TABLE FRIEND;
DROP TABLE DIARYREPLY;
DROP TABLE DIARYBOARD;
DROP TABLE TODO;
DROP TABLE ACCOUNTBOOK;
DROP TABLE ACCOUNTCATEGORY;
DROP TABLE MEMBER;

CREATE TABLE MEMBER(
    MID     VARCHAR2(15) PRIMARY KEY,
    MPW    VARCHAR2(15) NOT NULL,
    MNAME VARCHAR2(30) NOT NULL,
    MBIRTH DATE,
    MEMAIL VARCHAR2(50) NOT NULL UNIQUE,
    MMOTTO VARCHAR2(500),
    MSTATUS NUMBER(1) DEFAULT 1 NOT NULL
);

CREATE TABLE ACCOUNTCATEGORY(
    ACNO NUMBER(8) PRIMARY KEY,
    ATITLE VARCHAR2(100) NOT NULL UNIQUE
);

CREATE TABLE ACCOUNTBOOK(
    ANO NUMBER(8) PRIMARY KEY,
    MID VARCHAR2(15) REFERENCES MEMBER(MID),
    ACNO NUMBER(8) NOT NULL,
    ACONTENT VARCHAR2(500) NOT NULL,
    APRICE NUMBER(9) NOT NULL,
    ADATE DATE NOT NULL,
    ASTATUS NUMBER(1) DEFAULT 0 NOT NULL 
);

CREATE TABLE TODO(
    TDNO NUMBER(8) PRIMARY KEY,
    MID VARCHAR2(15) REFERENCES MEMBER(MID),
    TDCONTENT VARCHAR(100) NOT NULL,
    TDCHECK NUMBER(1) DEFAULT 0 NOT NULL,
    TDRDATE DATE NOT NULL );

CREATE TABLE DIARYBOARD(
    DNUM NUMBER(8) PRIMARY KEY,
    DTITLE VARCHAR2(100) NOT NULL,
    MID VARCHAR2(15) REFERENCES MEMBER(MID),
    DTODOIN NUMBER(1),
    DCONTENT CLOB NOT NULL,
    DHIT NUMBER(5) DEFAULT 0 NOT NULL,
    DSTATUS CHAR(2) NOT NULL,
    DDATE DATE NOT NULL,
    DRDATE DATE DEFAULT SYSDATE NOT NULL,
    DIP VARCHAR2(20) NOT NULL   );
    
CREATE TABLE DIARYREPLY(
    DRNUM NUMBER(8) PRIMARY KEY,
    DNUM NUMBER(8) REFERENCES DIARYBOARD(DNUM),
    MID VARCHAR2(15) REFERENCES MEMBER(MID),
    DRMENTION VARCHAR2(30),
    DRCONTENT VARCHAR2(1000) NOT NULL,
    DRGROUP NUMBER(9) NOT NULL,
    DRINDENT NUMBER(1) NOT NULL,
    DRRDATE DATE DEFAULT SYSDATE NOT NULL,
    DRIP VARCHAR2(20) NOT NULL  );


CREATE TABLE FRIEND(
    FNO NUMBER(8) PRIMARY KEY,
    MID VARCHAR2(15) REFERENCES MEMBER(MID),
    FID VARCHAR2(15) REFERENCES MEMBER(MID)
);

DROP SEQUENCE TODO_SEQ;
DROP SEQUENCE DIARYBOARD_SEQ;
DROP SEQUENCE DIARYREPLY_SEQ;
DROP SEQUENCE FRIEND_SEQ;
DROP SEQUENCE ACCOUNTBOOK_SEQ;
DROP SEQUENCE ACCOUNTCATEGORY_SEQ;

CREATE SEQUENCE ACCOUNTBOOK_SEQ MAXVALUE 9999999 NOCACHE NOCYCLE;
CREATE SEQUENCE ACCOUNTCATEGORY_SEQ MAXVALUE 9999999 NOCACHE NOCYCLE;
CREATE SEQUENCE FRIEND_SEQ MAXVALUE 9999999 NOCACHE NOCYCLE;
CREATE SEQUENCE TODO_SEQ MAXVALUE 99999999 NOCACHE NOCYCLE;
CREATE SEQUENCE DIARYBOARD_SEQ MAXVALUE 99999999 NOCACHE NOCYCLE;
CREATE SEQUENCE DIARYREPLY_SEQ MAXVALUE 99999999 NOCACHE NOCYCLE;